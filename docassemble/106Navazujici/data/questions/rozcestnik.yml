metadata:
  title: Žádost o informace - Navazující řízení
  short title: 106 - Navazující
  description: V případě odmítnutí žádosti o informace či jiného zádrhelu Vám poradíme co s tím.
  authors:
    - name: Michal Kuk
      organization: Frank Bold Society
  revision_date: 2020-11-05
---
modules:
  - .funkce
---
features:
  question help button: true
---
objects:
  - Podatel: Person.using(nazev="podatele")
  - Adresat: Organization
  - Podani: Thing
  - Komentar: DAFileCollection
---
mandatory: True
code: |
  multi_user = True
---
question: |
  Jakou situaci řešíte?
fields:
  - no label: situace
    input type: radio
    code: |
      ziskejSituace()
---
sets: final_situace
code: |
  final_situace = obsahSituace(situace)
---
sets: final_duvod
code: |
  duvod_seznam = ziskejDuvody(situace)
  if len(duvod_seznam) == 1:
    final_duvod = obsahDuvodu(int(list(duvod_seznam.keys())[0]))
  else:
    final_duvod = obsahDuvodu(duvod)
---
question: |
  Z jakého důvodu?
fields:
  - no label: duvod
    input type: radio
    code:
      duvod_seznam
---
question: |
  ${ final_duvod['title'] }
subquestion: |
  ${ final_duvod['popis'] }

  ## Časté příklady neoprávněného odmítnutí:
  % for arg in ziskejArgumentyProti(final_duvod['ID']).values():
  - ${ arg }
  % endfor
field: hodnoceni
buttons:
  - Důvod je oprávnění: opravnen
  - Neoprávněné: neopravnen
  - Nevím: nevi
---
question: |
  Jak chcete dále postupovat?
field: postup
choices:
  - Přečtu si podklady a poradím si sám: svepomoc
  - Vytvořím si v rozhraní stížnost: generator
  - Obrátím se na advokaty: advokati
---
need: hodnoceni
question: |
  Odpovídá Vaší situaci, některá z níže uvedených?
fields:
  - no label: argument
    input type: radio
    code:
      ziskejArgumentyProti(final_duvod['ID'])
---
sets: final_arg
code: |
  final_arg = obsahArgumentu(argument)
---
question: |
  ${ final_arg['titleMinus'] }
subquestion: |
  ${ final_arg['popis'] }

  ## Odůvodnění do odvolání:
  ${ final_arg['oduvodneni'] }
continue button field: kSablone
---
need: kSablone
mandatory: True
code: |
  if kSablone:
    if final_situace["podání"] == "odvolání":
      command("leave", url="https://da-test.frankbold.org/interview?i=docassemble.VzoryPravnichPodani:odvolaniSpravni.yml&idSesn=" + user_info().session +"&idFile=" + user_info().filename)
    else:
      command("leave", url="https://da-test.frankbold.org/interview?i=docassemble.VzoryPravnichPodani:stiznost.yml&idSesn=" + user_info().session +"&idFile=" + user_info().filename)
